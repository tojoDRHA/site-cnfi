jQuery(function(){var a={init:function(){this.setupInputWithDefaultTitle();this.attachQuickSearchListeners();this.postTypeDivs()},postTypeDivs:function(){jQuery(".categorydivrpt").each(function(){var e=jQuery(this).attr("id"),d,b,c;d=e.split("-");d.shift();b=d.join("-");c=b+"_tab";jQuery("a","#posttype-"+b+"-tabs").click(function(g){g.preventDefault();var f=jQuery(this).attr("href");jQuery(this).parent().addClass("tabs").siblings("li").removeClass("tabs");jQuery("#posttype-"+b+"-tabs").siblings(".tabs-panel").hide();jQuery(f).show();if("#posttype-"+b+"-all"==f){deleteUserSetting(c)}else{setUserSetting(c,"pop")}});jQuery("#tabs-panel-posttype-"+b+"-most-recent :checkbox, #tabs-panel-posttype-"+b+"-search :checkbox").live("click",function(g){var f=jQuery(this),i=f.is(":checked"),h=f.val();if(h&&f.parents("#relationsdiv-"+b).length){jQuery("#in-"+b+"-"+h).prop("checked",i)}});jQuery("img.waiting",jQuery(this)).hide()})},attachQuickSearchListeners:function(){var b;jQuery(".quick-search").keypress(function(d){var c=jQuery(this);if(13==d.which){a.updateQuickSearchResults(c);return false}if(b){clearTimeout(b)}b=setTimeout(function(){a.updateQuickSearchResults(c)},400)}).attr("autocomplete","off")},updateQuickSearchResults:function(c){var b,f,d=2,e=c.val();if(e.length<d){return}b=c.parents(".tabs-panel");f={action:"posttype-quick-search","response-format":"markup",q:e,type:c.attr("name"),post_id:jQuery("#post_ID").val()};jQuery("img.waiting",b).show();jQuery.post(ajaxurl,f,function(g){a.processQuickSearchQueryResponse(g,f,b)})},processQuickSearchQueryResponse:function(d,c,b){var e=jQuery("<div>").html(d).find("li");if(!e.length){jQuery(".categorychecklist",b).html("<li><p>"+rpt.noItems+"</p></li>")}else{jQuery(".categorychecklist",b).html(e)}jQuery("img.waiting",b).hide()},setupInputWithDefaultTitle:function(){var b="input-with-default-title";jQuery("."+b).each(function(){var e=jQuery(this),d=e.attr("title"),c=e.val();e.data(b,d);if(""==c){e.val(d)}else{if(d==c){return}else{e.removeClass(b)}}}).focus(function(){var c=jQuery(this);if(c.val()==c.data(b)){c.val("").removeClass(b)}}).blur(function(){var c=jQuery(this);if(""==c.val()){c.addClass(b).val(c.data(b))}})}};a.init()});